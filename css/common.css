/* Common site styles: header/navigation normalization + basic responsive rules */
:root{
  --accent: #2e7d32;
  --accent-2: #09a24a;
  --header-height: 72px;
}

/* Header / Nav normalization */
header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:12px 20px;
  background:linear-gradient(180deg, rgba(240,248,240,0.95), rgba(250,255,250,0.95));
  box-shadow:0 2px 8px rgba(0,0,0,0.06);
  min-height:64px;
  position:fixed;
  top:0;
  left:0;
  right:0;
  height:var(--header-height);
  z-index:1300;
}
.logo h1{ font-family: var(--font-base, 'Poppins', sans-serif); font-size:1.9rem; color:var(--accent); margin:0; }
nav ul{ list-style:none; display:flex; gap:14px; align-items:center; margin:0; padding:0; }
.nav-pill{
  display:inline-block;
}
.nav-pill{ display:inline-block; }
/* Stronger visible pills: subtle green tint, heavier border/shadow, clearer hover */
/* Nav buttons: black pills with white text; hover turns green. Keep .btn-trevo as accent button */
nav a{ text-decoration:none; padding:10px 14px; border-radius:12px; font-weight:700; font-size:1rem; transition:box-shadow .12s ease, background .12s ease; display:inline-flex; align-items:center; height:40px; box-sizing:border-box; color:var(--text); background:transparent; border:1px solid rgba(0,0,0,0.04); }

/* Neutral defaults: theme.css will provide the final visual (gradients, active states) */
nav a:not(.btn-trevo){ background:transparent; color:var(--text); box-shadow:none; }

/* Hover/focus: green background */
nav a:not(.btn-trevo):hover,
nav a:not(.btn-trevo):focus,
nav a:not(.btn-trevo):focus-visible{
  background:linear-gradient(90deg,var(--accent),var(--accent-2));
  color:#fff;
  box-shadow:0 10px 26px rgba(9,162,74,0.12);
}

/* Active state uses the green accent as well */
nav a.active{ background:linear-gradient(90deg,var(--accent),var(--accent-2)); color:#fff; box-shadow:0 8px 26px rgba(9,162,74,0.18); border-color:transparent; }

/* Trevo button remains emphasized with filled accent */
.btn-trevo{ font-size:1.05rem; padding:8px 10px; background:linear-gradient(90deg,var(--accent),var(--accent-2)); color:#fff; border-radius:10px; border:0; box-shadow:0 6px 18px rgba(9,162,74,0.18); }

/* Non-interactive trevo message used in header: visually matches the trevo button but is not a link/button */
.trevo-msg{
  display:inline-flex;
  align-items:center;
  gap:8px;
  font-weight:700;
  font-size:1.05rem;
  padding:6px 10px;
  background:linear-gradient(90deg,var(--accent),var(--accent-2));
  color:#fff;
  border-radius:10px;
  border:0;
  box-shadow:0 6px 18px rgba(9,162,74,0.18);
}

/* Informational app message used instead of a clickable button */
.app-msg{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding:12px 20px;
  font-weight:700;
  font-size:1rem;
  border-radius:28px;
  background: linear-gradient(180deg,var(--primary), #1f6a29);
  color: #fff;
  box-shadow: var(--btn-shadow, 0 10px 30px rgba(8,140,62,0.2));
}

/* Hover / focus states to increase discoverability without changing artwork */
nav a:hover, nav a:focus, nav a:focus-visible{
  transform:none;
  box-shadow:0 8px 22px rgba(0,0,0,0.06);
}

/* Accessibility: visible focus for keyboard users (no visual rebrand) */
nav a:focus,
nav a:focus-visible{
  outline:3px solid rgba(14,110,49,0.18);
  outline-offset:3px;
}

/* Mobile: basic layout tweaks only — visibility of top nav is controlled centrally in `theme.css` */
@media (max-width:720px){
  header{ flex-direction:row; align-items:center; }
  /* Keep nav markup available; visibility handled by theme.css to avoid conflicting rules */
  nav ul{ /* visibility controlled in theme.css */ }
  nav ul li{ display:inline-block; }
  nav a{ font-size:0.95rem; padding:8px 10px; height:36px; }
  .logo h1{ font-size:1.1rem; }
  :root{ --header-height:64px; }
  /* ensure floating mobile button remains hidden — we use bottom-nav for mobile */
  .mobile-menu-button{ display:none !important; }
}

/* Utility: visually hidden (for accessibility) */
.visually-hidden{ position:absolute !important; height:1px; width:1px; overflow:hidden; clip:rect(1px,1px,1px,1px); white-space:nowrap; }

/* Small container helper used across pages */
.container{ width:100%; max-width:1100px; margin:0 auto; padding:0 16px; }

/* Prevent content being hidden under fixed header */
body{ padding-top: calc(var(--header-height) + 8px); }

/* Make media elements scale naturally on small viewports */
img, iframe, video{ max-width:100%; height:auto; display:block; }

/* Modal dialogs: conservative, non-visual sizing to ensure mobile usability */
.modal .modal-dialog{
  max-width:1000px;
  width:calc(100% - 48px);
  margin:24px auto;
}

@media (max-width:720px){
  .modal .modal-dialog{ width:95%; margin:12px auto; }
  .container{ padding:0 12px; }
  :root{ --header-height: 76px; }
}

/* Mobile side menu (floating button + overlay) */
.mobile-menu-button {
  position: fixed;
  left: 16px;
  top: calc(var(--header-height,72px) + 8px);
  width: 56px;
  height: 56px;
  border-radius: 50%;
  background: linear-gradient(180deg,var(--accent-2),var(--accent));
  color: #fff;
  display: none; /* shown only on small screens */
  align-items: center;
  justify-content: center;
  z-index: 1400;
  box-shadow: 0 8px 26px rgba(9,162,74,0.18);
  cursor: pointer;
}
.mobile-menu-button:active{ transform: scale(0.98); }


.mobile-menu-overlay{
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.45);
  display: flex; /* keep in flow but hidden via opacity */
  align-items: center;
  justify-content: center;
  z-index: 1390;
  opacity: 0;
  pointer-events: none;
  transition: opacity 260ms ease;
}
.mobile-menu-overlay.open{ opacity: 1; pointer-events: auto; }

.mobile-menu{
  width: min(360px, 92%);
  background: #fff;
  border-radius: 14px;
  padding: 18px 12px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.25);
  text-align: center;
  position: relative;
  transform: translateY(-18px) scale(0.98);
  opacity: 0;
  transition: transform 280ms cubic-bezier(.2,.9,.3,1), opacity 220ms ease;
}
.mobile-menu.open{ transform: translateY(0) scale(1); opacity: 1; }
.mobile-menu a{ display:block; padding:14px 12px; color:#08311a; text-decoration:none; font-weight:700; border-bottom:1px solid #f0f0f0; }
.mobile-menu a:last-child{ border-bottom:0; }
.mobile-menu .close { position:absolute; right:10px; top:8px; background:transparent; border:none; font-size:22px; }

/* mobile menu button intentionally hidden; bottom-nav is used instead */
@media (max-width:720px){
  .mobile-menu-button{ display:none !important; }
}

/* Strong mobile adjustments to avoid overflow and layout breakage */
@media (max-width:480px){
  /* header/logo */
  header { padding: 8px 12px; }
  header .logo h1 { font-size: 1.6rem !important; line-height:1.1 !important; }

  /* navigation touch adjustments */
  nav ul { gap:8px; padding:6px 8px; overflow-x:auto; -webkit-overflow-scrolling:touch; }
  nav a { font-size:0.95rem; padding:8px 10px; height:auto; }

  /* page containers full width */
  .container, .card, .card-moeda, .donation-panel, .donation-center { width:100% !important; max-width:100% !important; padding:12px !important; box-sizing:border-box !important; }

  /* images and media scale */
  img, iframe, video { max-width:100% !important; height:auto !important; }

  /* carrossel and products shrink */
  .carrossel-wrapper { gap:12px; padding-bottom:10px; }
  .produto-item { width: 160px !important; }

  /* mobile menu tweaks */
  .mobile-menu { width: calc(100% - 32px) !important; margin: 0 16px; }
  .mobile-menu a { font-size: 1rem; padding: 12px 10px; }

  /* modals responsive */
  .modal .modal-dialog { width: 95% !important; margin:12px auto !important; }
  .modal-content iframe { width:100% !important; height:60vh !important; }

  /* text safety */
  h1,h2,h3,p,button,a { word-break: break-word; }

  /* reduce heavy animations on small devices for performance */
  * { transition: none !important; animation: none !important; }
}
