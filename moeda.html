<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Moedas Sustentáveis - EcoFashion</title>
  <link rel="stylesheet" href="css/common.css">
  <link rel="stylesheet" href="css/moeda.css">
  <link rel="stylesheet" href="css/produtos.css">
</head>
<body>

  <header>
    <div class="logo">
      <h1>EcoFashion</h1>
    </div>

    <nav role="navigation" aria-label="Main Navigation">
      <ul>
        <li><a href="index.html">Inicio</a></li>
        <li><a href="produtos.html">Produtos</a></li>
        <li><a href="doacao.html">Doar</a></li>
        <li><a href="sobrenos.html">Sobre nós</a></li>
      </ul>
    </nav>
  </header>

  <!-- Card centralizado -->
  <div class="card-moeda">
    <img src="https://static.vecteezy.com/ti/vetor-gratis/p1/7069441-sorte-trevo-folha-quatro-isolado-no-branco-para-o-dia-de-sao-patrick-vetor.jpg"  alt="Trevo">
    <h2>Troque por Trevos!</h2>
    <p>Aqui na EcoFashion, ao doar roupas você recebe moedas de troca chamadas <strong>Trevos</strong>. Essas moedas não são descontos — elas servem exclusivamente para trocar por produtos disponíveis no catálogo do app. Trevos são ganhos somente quando uma doação é confirmada pela nossa equipe.</p>

    <!-- Botão personalizado (abre modal com o app embutido) -->
    <button id="open-app" class="btn-app" type="button">Funcionalidade disponível no app EcoFashion</button>
  </div>

  <!-- Modal que carrega app.html dentro de um iframe (permanece na mesma página) -->
  <div id="app-modal" class="modal" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="app-modal-title">
    <div class="modal-backdrop" tabindex="-1"></div>
    <div class="modal-dialog" role="document" tabindex="-1">
      <button class="modal-close" id="app-modal-close" aria-label="Fechar">×</button>
      <h2 id="app-modal-title">App EcoFashion</h2>
      <div class="modal-content">
        <iframe src="app.html" title="App EcoFashion" frameborder="0" loading="lazy"></iframe>
      </div>
    </div>
  </div>

  <script src="js/script.js"></script>
  <script>
    (function(){
      const openBtn = document.getElementById('open-app');
      const modal = document.getElementById('app-modal');
      const closeBtn = document.getElementById('app-modal-close');

      function openModal(){ if(!modal) return; modal.setAttribute('aria-hidden','false'); const dlg = modal.querySelector('.modal-dialog'); if(dlg) dlg.focus(); document.body.style.overflow='hidden'; }
      function closeModal(){ if(!modal) return; modal.setAttribute('aria-hidden','true'); document.body.style.overflow='auto'; if(openBtn) openBtn.focus(); }

      if(openBtn) openBtn.addEventListener('click', function(){ openModal(); });
      if(closeBtn) closeBtn.addEventListener('click', closeModal);

      // fechar clicando no backdrop
      modal.addEventListener('click', function(e){ if(e.target === modal || e.target.classList.contains('modal-backdrop')) closeModal(); });

      // escape
      window.addEventListener('keydown', function(e){ if(e.key === 'Escape' && modal && modal.getAttribute('aria-hidden') === 'false'){ closeModal(); } });
    })();
  </script>

</body>
</html>